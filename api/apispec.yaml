openapi: 3.0.0
info:
  title: Tawny
  description: |-
    A lastfm Api Proxy

    https://github.com/dozro/tawny/tree/main
  version: 0.1.0
servers:
  - url: /api/v1
tags:
  - name: user
    description: Operations related to users
  - name: hmac
    description: Operations related to hmac
paths:
  '/user/{username}':
    get:
      description: |-
        Get User Info

        Lastfm Docu: https://www.last.fm/api/show/user.getInfo
      security:
        - defaultApiKey: []
      parameters:
        - name: username
          in: path
          required: true
          description: the username
          schema:
            $ref: '#/components/schemas/LastFMUsername'
      responses:
        '200':
          description: The fetched User Info
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/userinfo'
        '401':
          $ref: '#/components/responses/ApiErrorReturn401'
        '500':
          description: internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/internalError'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      summary: Get User Info
      operationId: get_user
      tags:
        - user
  '/user/{username}/tracks/loved':
    get:
      description: 'Get loved tracks of specified User - https://www.last.fm/api/show/user.getLovedTracks'
      security:
        - defaultApiKey: []
      parameters:
        - name: limit
          in: query
          required: false
          description: The limit
          schema:
            type: number
        - name: page
          in: query
          required: false
          description: The page you want to get
          schema:
            type: number
        - name: username
          in: path
          required: true
          description: the username
          schema:
            $ref: '#/components/schemas/LastFMUsername'
        - name: signature
          in: query
          required: false
          description: the HMAC Signature for this OP
          schema:
            $ref: '#/components/schemas/HMACSignature'
      responses:
        '200':
          description: the fetched list of loved songs
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WrapperUserLovedTracks'
        '307':
          description: a redirect
        '401':
          $ref: '#/components/responses/ApiErrorReturn401'
        '500':
          description: internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/internalError'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      summary: Get Users Loved Tracks
      operationId: user_get_loved_tracks
      tags:
        - user
  '/user/{username}/tracks/recent':
    get:
      summary: get recent tracks
      tags:
        - user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRecentTracks'
        '401':
          $ref: '#/components/responses/ApiErrorReturn401'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/internalError'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      operationId: 'get_user_username_tracks_recent'
      parameters:
        - schema:
            type: integer
            format: int32
            default: 25
            minimum: 1
            maximum: 250
          in: query
          name: limit
          description: The limit
        - schema:
            type: integer
            format: int64
            default: 1
            minimum: 1
            maximum: 32000
          in: query
          name: page
          description: The page
        - name: signature
          in: query
          required: false
          description: the HMAC Signature for this OP
          schema:
            $ref: '#/components/schemas/HMACSignature'
        - name: fetch_musicbrainz
          in: query
          required: false
          schema:
            type: boolean
            default: false
        - name: username
          in: path
          required: true
          description: The username
          schema:
            $ref: '#/components/schemas/LastFMUsername'
  '/user/{username}/tracks/current':
    get:
      summary: get current track
      tags:
        - user
      parameters:
        - name: username
          in: path
          required: true
          description: The username
          schema:
            $ref: '#/components/schemas/LastFMUsername'
        - name: fetch_musicbrainz
          in: query
          required: false
          description: fetch assosicated data from MusicBrainz
          schema:
            type: boolean
            default: false
        - name: signature
          in: query
          required: false
          description: the HMAC Signature for this OP
          schema:
            $ref: '#/components/schemas/HMACSignature'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRecentTracks'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/internalError'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      operationId: 'get_user_username_tracks_current'
      description: equivalent to calling recent with limit of 1
  '/user/{username}/tracks/current/embed':
    get:
      summary: get current track
      tags:
        - user
      parameters:
        - name: username
          in: path
          required: true
          description: The username
          schema:
            $ref: '#/components/schemas/LastFMUsername'
        - name: signature
          in: query
          required: false
          description: the HMAC Signature for this OP
          schema:
            $ref: '#/components/schemas/HMACSignature'
      responses:
        '200':
          description: The operation was successful
          content: {}
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      operationId: 'get-user-:username-tracks-current-embed'
      x-stoplight:
        id: r4nu8mvgwcbbf
      description: equivalent to calling recent with limit of 1
  /hmac/sign/base64:
    post:
      summary: sign a request
      tags:
        - hmac
        - hmac_base64
      responses:
        '200':
          description: successfully signed
      operationId: post-hmac-sign-base64
      x-stoplight:
        id: 1hthsq5tpk5xi
      parameters:
        - schema:
            type: string
          in: header
          name: HMAC-PSK
          description: HMAC Pre-Shared-Key
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HmacProxyRequest'
      security: []
  /hmac/sign:
    post:
      summary: sign a request
      tags:
        - hmac
      responses:
        '200':
          description: successfully signed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HmacProxyRequest'
            application/yaml:
              schema:
                $ref: '#/components/schemas/HmacProxyRequest'
        '401':
          $ref: '#/components/responses/ApiErrorReturn401'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      operationId: post-hmac-sign
      x-stoplight:
        id: 1hthsq5tpk5xi
      parameters:
        - schema:
            type: string
          in: header
          name: HMAC-PSK
          description: HMAC Pre-Shared-Key
          required: true
        - schema:
            type: boolean
          in: query
          name: is_base64
          required: false
        - schema:
            type: boolean
          in: query
          deprecated: true
          name: isBase64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/HmacProxyRequest'
      security: []
  /hmac/verify:
    post:
      summary: verify a hmac signed method
      tags:
        - hmac
      responses:
        '200':
          description: request success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Verification'
      operationId: get-hmac-verify
      x-stoplight:
        id: rrb5zs04683wq
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignedRequest'
      parameters:
        - schema:
            type: string
          in: header
          name: HMAC-PSK
          required: true
        - name: isBase64
          description: if the request is base64 encoded
          required: false
          deprecated: true
          in: query
          schema:
            type: boolean
        - name: is_base64
          description: if the request is base64 encoded
          required: false
          in: query
          schema:
            type: boolean
      security: []
  /hmac/verify/against_server:
    post:
      summary: Execute a signed HMAC proxy request
      tags:
        - hmac
      parameters:
        - name: isBase64
          deprecated: true
          description: if the request is base64 encoded
          in: query
          schema:
            type: boolean
        - name: is_base64
          description: if the request is base64 encoded
          required: false
          in: query
          schema:
            type: boolean
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignedRequest'
      responses:
        '200':
          description: Proxy request succeeded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Verification'
        '400':
          description: Bad input or invalid JSON
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          $ref: '#/components/responses/ApiErrorReturn403'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
      security: [ ]
  /hmac/execute:
    post:
      summary: Execute a signed HMAC proxy request
      tags:
        - hmac
      parameters:
        - name: is_base64
          description: if the request is base64 encoded
          required: false
          in: query
          schema:
            type: boolean
        - name: isBase64
          deprecated: true
          description: if the request is base64 encoded
          in: query
          schema:
            type: boolean
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignedRequest'
      responses:
        '200':
          description: Proxy request succeeded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HmacProxyResponse'
        '400':
          description: Bad input or invalid JSON
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: Invalid signature or not authorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
      security: []
    get:
      security: []
      summary: Execute a signed HMAC proxy request
      tags:
        - hmac
      parameters:
        - name: isBase64
          description: if the request is base64 encoded
          required: true
          deprecated: true
          in: query
          schema:
            type: boolean
            default: true
        - name: is_base64
          description: if the request is base64 encoded
          required: true
          in: query
          schema:
            type: boolean
            default: true
        - name: request
          description: base64 encoded request
          in: query
          required: true
          schema:
            type: string
        - name: signature
          in: query
          description: the signature of the request
          required: true
          schema:
            type: string
      responses:
        '200':
          description: successful request
  '/user/{username}/top/tracks':
    parameters:
      - schema:
          $ref: '#/components/schemas/LastFMUsername'
        name: username
        in: path
        required: true
    get:
      summary: get the top tracks
      tags:
        - user
      responses:
        '200':
          description: Request successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserTopTracks'
            application/xml:
              schema:
                $ref: '#/components/schemas/UserTopTracks'
            application/yaml:
              schema:
                $ref: '#/components/schemas/UserTopTracks'
        '401':
          description: Unauthorized
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      operationId: get-user-username-top-tracks
  '/user/{username}/top/albums':
    parameters:
      - schema:
          $ref: '#/components/schemas/LastFMUsername'
        name: username
        in: path
        required: true
    get:
      summary: get a user's topalbums
      tags: 
        - user
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserTopAlbums'
            application/yaml:
              schema:
                $ref: '#/components/schemas/UserTopAlbums'
            application/xml:
              schema:
                $ref: '#/components/schemas/UserTopAlbums'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
      operationId: get-user-username-top-albums
  /musicbrainz/lookup/artist/by_mbid/{mbid}:
    parameters:
      - schema:
          $ref: '#/components/schemas/Mbid'
        name: mbid
        in: path
        required: true
    get:
      summary: lookup artist details by mbid
      tags:
        - musicbrainz
      operationId: get_musicbrainz_lookup_artist_by_mbid
      responses:
        '200':
          description: Request successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MusicBrainzArtist'
            application/yaml:
              schema:
                $ref: '#/components/schemas/MusicBrainzArtist'
            application/xml:
              schema:
                $ref: '#/components/schemas/MusicBrainzArtist'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
  /musicbrainz/lookup/recording/by_mbid/{mbid}:
    parameters:
      - schema:
          $ref: '#/components/schemas/Mbid'
        name: mbid
        in: path
        required: true
    get:
      summary: lookup recording details by mbid
      tags:
        - musicbrainz
      operationId: get_musicbrainz_lookup_recording_by_mbid
      responses:
        '200':
          description: Request successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MusicBrainzRecording'
            application/xml:
              schema:
                $ref: '#/components/schemas/MusicBrainzRecording'
            application/yaml:
              schema:
                $ref: '#/components/schemas/MusicBrainzRecording'
        '503':
          $ref: '#/components/responses/EndpointDisabledByServer'
security:
  - defaultApiKey: []
components:
  securitySchemes:
    defaultApiKey:
      description: The Api Key you obtained from lastfm
      type: apiKey
      name: Authorization
      in: header
  schemas:
    ApiErrorCode:
      type: number
      enum:
        - 0
        - 1
        - 2
        - 3
    Success:
      type: boolean
      description: If the operation was successful
      example: false
    Verification:
      type: object
      description: whether the verification was successful
      properties:
        message:
          type: string
        success:
          type: boolean
    ApiError:
      type: object
      properties:
        http_code:
          type: number
          description: The HTTP Error Code
          example: 403
        internal_error_code:
          type: number
          description: The internal Error Code
          example: 1
        internal_error_msg:
          type: string
          nullable: true
          description: Internal Error message
        success:
          $ref: '#/components/schemas/Success'
        data:
          $ref: '#/components/schemas/errorAttachedData'
        message:
          type: string
          example: Invalid HMAC signature
      required:
        - success
        - message
    HmacProxyApiIdentifier:
      title: HMAC Proxy Identifier (deprecated)
      type: string
      example: /user/
      deprecated: true
      enum:
        - "/user/"
        - "/user/tracks/current/"
        - "/user/tracks/current/embed"
        - "/user/tracks/recent/"
    HmacProxyApiIdentifierV2:
      title: HMAC Proxy Identifier
      description: "new version of ApiIdentifier"
      type: string
      example: user
      enum:
        - "user"
        - "user_tracks_current"
        - "user_tracks_current_embed"
        - "user_tracks_recent"
    HmacProxyApiParameters:
      description: The Api Parameters you want to provide
      title: HMAC Proxy Api Parameter
      type: object
      required:
        - username
      properties:
        username:
          type: string
          example: alice
          description: The Username you want to specify
        page:
          type: number
          example: 1
          description: The page of the result you want to get
        limit:
          type: number
          example: 15
          description: The limit of a page
    HmacProxyResponse:
      type: object
      title: HMAC Proxy Response
      properties:
        signature:
          type: string
    HmacProxyMethod:
      type: string
      title: HMAC Proxy Method
      description: lowercase http method
      example: get
      enum:
        - "get"
        - "post"
        - "head"
    HmacProxyRequest:
      type: object
      title: HMAC Proxy Request
      properties:
        method:
          $ref: '#/components/schemas/HmacProxyMethod'
        api_identifier:
          $ref: '#/components/schemas/HmacProxyApiIdentifierV2'
        api_parameters:
          $ref: '#/components/schemas/HmacProxyApiParameters'
        body:
          type: string
          nullable: true
          default: null
      required:
        - method
        - api_identifier
    SignedRequest:
      type: object
      deprecated: true
      title: "HMAC signed Request (not encoded)"
      description: "The signed Request; not base64 encoded"
      properties:
        signature:
          type: string
          example: 4acfb7f8b2...
          pattern: "^[A-Fa-f0-9]{64}$"
          minLength: 64
          maxLength: 64
        request:
          $ref: '#/components/schemas/HmacProxyRequest'
      required:
        - signature
        - request
    SignedBase64Request:
      type: object
      title: "HMAC signed Request (base64 encoded)"
      description: "The HMAC signed Request - base64 encoded"
      properties:
        signature:
          type: string
          example: 4acfb7f8b2...
          description: The HMAC signature
          pattern: "^[A-Fa-f0-9]{64}$"
          minLength: 64
          maxLength: 64
        request:
          type: string
          description: The base64 encoded Request
          pattern: "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
      required:
        - signature
        - request
    userinfo:
      description: the User Info
      properties:
        id:
          type: number
        name:
          type: string
          pattern: "^[a-zA-Z0-9_-]{3,20}$"
          minLength: 3
          maxLength: 20
        realname:
          type: string
        url:
          type: string
          format: url
        imageurl:
          type: string
          format: url
        country:
          type: string
        age:
          type: number
        gender:
          type: string
        subscriber:
          type: number
        playcount:
          type: number
        playlists:
          type: number
        bootstrap:
          type: number
        registered:
          type: string
          format: date
    HttpRequestMeta:
      type: object
      properties:
        host:
          type: string
        query:
          type: string
        path:
          type: string
        method:
          type: string
    errorAttachedData:
      description: Data attached to Error
      type: object
      properties:
        request:
          $ref: '#/components/schemas/HttpRequestMeta'
    internalError:
      description: internal server error
      title: Internal Server Error Message
      deprecated: true
      properties:
        code:
          type: number
        error:
          type: string
        data:
          $ref: '#/components/schemas/errorAttachedData'
    LFMArtistSimple:
      type: object
      nullable: true
      properties:
        name:
          type: string
        mbid:
          $ref: '#/components/schemas/Mbid'
        url:
          type: string
          format: url
    UserLovedTracks:
      type: array
      items:
        $ref: '#/components/schemas/LFMTrack'
    WrapperUserLovedTracks:
      type: object
      properties:
        loved_tracks:
          $ref: '#/components/schemas/UserLovedTracks'
      description: The tracks a user loves
    LFMTrack:
      title: LastFM Track
      type: object
      properties:
        name:
          type: string
          maxLength: 100
          minLength: 1
          description: Track Name
        now_playing:
          type: boolean
          description: If the track is currently playing (only defined when requesting recent tracks)
          nullable: true
        rank:
          nullable: true
          description: "only defined when requesting top tracks"
        mbid:
          $ref: '#/components/schemas/Mbid'
        url:
          type: string
          format: url
          description: The url to the lastfm entry of the track
        date:
          type: string
          format: date
        image:
          type: string
          format: url
          description: album cover image
        artist:
          $ref: '#/components/schemas/LFMArtistSimple'
        artist_mbid:
          $ref: '#/components/schemas/Mbid'
        artist_music_brainz:
          $ref: '#/components/schemas/MusicBrainzArtist'
        track_music_brainz:
          $ref: '#/components/schemas/MusicBrainzRecording'
        streamable:
          type: integer
          format: int32
          minimum: 0
          maximum: 255
    UserRecentTracks:
      type: object
      description: The Tracks a user listened to recently
      properties:
        track:
          type: array
          items:
            $ref: '#/components/schemas/LFMTrack'
    UnauthorizedResponse:
      type: object
      properties:
        code:
          type: integer
          format: int64
          example: 403
          minimum: 100
          maximum: 599
        error:
          type: string
    UserTopAlbums:
      title: UserTopAlbums
      type: object
      properties:
        album:
          type: array
          items:
            $ref: '#/components/schemas/UserAlbums'
    UserAlbums:
      type: object
      properties:
        rank:
          type: integer
          format: int32
          minimum: 1
          maximum: 255
        name:
          type: string
        playcount:
          type: integer
          format: int64
          minimum: 0
          maximum: 32000
        mbid:
          $ref: '#/components/schemas/Mbid'
        url:
          type: string
          format: url
          nullable: false
    UserTopTracks:
      title: UserTopTracks
      type: object
      properties:
        track:
          type: array
          items:
            $ref: '#/components/schemas/LFMTrack'
    Artist:
      title: Artist
      type: object
      properties:
        name:
          type: string
          example: Linkin Park
          description: The name of the artist
        mbid:
          $ref: '#/components/schemas/Mbid'
        url:
          type: string
          format: url
          example: 'https://www.last.fm/music/Linkin+Park'
          description: The URL of the artist's entry on last.fm
    Mbid:
      title: MusicBrainz ID
      type: string
      format: uuid
      example: 0383dadf-2a4e-4d10-a46a-e9e041da8eb3
    MusicBrainzRecording:
      title: MusicBrainz Recording
      description: Detailed information about a specific MusicBrainz recording.
      type: object
      properties:
        text:
          type: string
          description: Raw character data from XML content.
        id:
          $ref: '#/components/schemas/Mbid'
        title:
          type: string
          description: Recording title.
          example: "Numb"
        length:
          type: integer
          description: Length of the recording in milliseconds.
          example: 185000
        artist-credit:
          $ref: "#/components/schemas/MusicBrainzArtistCredit"
        release-list:
          $ref: "#/components/schemas/MusicBrainzRecordingReleaseList"
        isrc-list:
          $ref: "#/components/schemas/MusicBrainzIsrcList"
      additionalProperties: false
    example:
      id: "f27ec8db-af05-4f36-916e-3d7e9c7033d4"
      title: "Numb"
      length: 185000

    MusicBrainzArtistCredit:
        title: MusicBrainz Artist Credit
        description: Contains artist credit information showing who performed on the recording.
        type: object
        properties:
          text:
            type: string
            description: Raw character data.
          name-credit:
            type: array
            description: List of credited artists.
            items:
              $ref: "#/components/schemas/MusicBrainzNameCredit"
        additionalProperties: false
        example:
          name-credit:
            - joinphrase: " & "
              artist:
                id: "5b11f4ce-a62d-471e-81fc-a69a8278c7da"
                name: "Nirvana"
                sort-name: "Nirvana"


    MusicBrainzNameCredit:
        title: MusicBrainz Name Credit
        description: A single credit entry referencing an artist in the artist-credit list.
        type: object
        properties:
          text:
            type: string
            description: Raw text data.
          joinphrase:
            type: string
            description: How this artist is joined with the next one (e.g. "feat.", " & ").
            example: "feat."
          artist:
            $ref: "#/components/schemas/MusicBrainzNameCreditArtist"
        additionalProperties: false
        example:
          joinphrase: ""
          artist:
            id: "5b11f4ce-a62d-471e-81fc-a69a8278c7da"
            name: "Nirvana"

    MusicBrainzNameCreditArtist:
        title: MusicBrainz Name Credit Artist
        description: Metadata describing an artist credited in a recording.
        type: object
        properties:
          text:
            type: string
          id:
            $ref: '#/components/schemas/Mbid'
          type:
            type: string
            description: Artist type (e.g. Person, Group).
            example: "Group"
          type-id:
            $ref: '#/components/schemas/Mbid'
          name:
            type: string
            description: Artist display name.
            example: "Nirvana"
          sort_name:
            type: string
            description: Canonical sorting name.
            example: "Nirvana"
        additionalProperties: false
        example:
          id: "5b11f4ce-a62d-471e-81fc-a69a8278c7da"
          type: "Group"
          name: "Nirvana"
          sort-name: "Nirvana"

    MusicBrainzRecordingReleaseList:
        type: object
        description: Contains releases associated with the recording (albums, singles, etc.).
        properties:
          text:
            type: string
          count:
            type: string
            description: Total number of releases.
            example: "1"
          release:
            type: array
            description: Release entries.
            items:
              $ref: "#/components/schemas/MusicBrainzRecordingRelease"
        additionalProperties: false
        example:
          count: "1"
          release:
            - id: "1d9f9d3c-1c62-4b4a-8cc9-dc61d1c59d84"
              title: "Meteora"

    MusicBrainzRecordingRelease:
        title: MusicBrainz Recording Release
        description: A release (album, EP, etc.) containing this recording.
        type: object
        properties:
          text:
            type: string
          id:
            $ref: '#/components/schemas/Mbid'
          title:
            type: string
            description: Release title.
            example: "Meteora"
        additionalProperties: false
        example:
          id: "1d9f9d3c-1c62-4b4a-8cc9-dc61d1c59d84"
          title: "Meteora"

    MusicBrainzIsrcList:
        title: MusicBrainz ISRC List
        description: International Standard Recording Codes (ISRCs) associated with the recording.
        type: object
        properties:
          count:
            type: string
            description: Number of ISRC entries.
            example: "1"
          isrc:
            $ref: "#/components/schemas/MusicBrainzIsrc"
        additionalProperties: false
        example:
          count: "1"
          isrc:
            id: "USWB10300015"

    MusicBrainzIsrc:
        type: object
        description: Single ISRC entry for the recording.
        properties:
          id:
            type: string
            description: The ISRC code.
            example: "USWB10300015"
        additionalProperties: false
        example:
          id: "USWB10300015"

    MusicBrainzArtist:
      type: object
      properties:
        name:
          type: string
        sort_name:
          type: string
        disambiguation:
          type: string
    LastFMUsername:
      type: string
      title: LastFM Username
      example: alice
      pattern: "^[a-zA-Z0-9_-]{3,20}$"
      minLength: 3
      maxLength: 20
    HMACSignature:
      title: HMAC Signature
      type: string
      pattern: "^[A-Fa-f0-9]{64}$"
      minLength: 64
      maxLength: 64
  responses:
    EndpointDisabledByServer:
      description: The Server disabled this endpoint
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
        application/yaml:
          schema:
            $ref: '#/components/schemas/ApiError'
        application/xml:
          schema:
            $ref: '#/components/schemas/ApiError'
    ApiErrorReturn401:
      description: Api Error 401
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
        application/yaml:
          schema:
            $ref: '#/components/schemas/ApiError'
        application/xml:
          schema:
            $ref: '#/components/schemas/ApiError'
    ApiErrorReturn403:
      description: Api Error 401
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
        application/yaml:
          schema:
            $ref: '#/components/schemas/ApiError'
        application/xml:
          schema:
            $ref: '#/components/schemas/ApiError'
x-internal: true
